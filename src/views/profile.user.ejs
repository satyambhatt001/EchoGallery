<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodingDung | Profile Template</title>
    <link rel="stylesheet" href="/css/profile.user.style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .tab-content {
            padding: 20px;
        }
        .account-settings-links a.active {
            font-weight: bold;
            background-color: #e9ecef;
        }
        .container {
            max-width: 1200px;
        }
        .form-label {
            font-weight: bold;
        }
        .input-group-text {
            font-size: 20px;
            color: #000;
        }
    </style>
</head>
<% layout("/layouts/boilerplate") %>
<body>
    <div class="container light-style flex-grow-1 container-p-y">
        <h4 class="font-weight-bold py-3 mb-4">Account settings</h4>
        <div class="card overflow-hidden">
            <div class="row no-gutters row-bordered row-border-light">
                <!-- SIDEBAR -->
                <div class="col-md-3 pt-0">
                    <div class="list-group list-group-flush account-settings-links">
                        <a class="list-group-item list-group-item-action active" data-bs-toggle="tab" href="#account-general">Edit Profile</a>
                        <a class="list-group-item list-group-item-action" data-bs-toggle="tab" href="#account-change-password">Change password</a>
                        <a class="list-group-item list-group-item-action" data-bs-toggle="tab" href="#close-account">Close Account</a>
                    </div>
                </div>

                <!-- FORM SECTIONS -->
                <div class="col-md-9">
                    <div class="tab-content">
                        <!-- Edit Profile Form -->
                        <form id="account-general" class="tab-pane fade active show" action="#" method="POST">
                            <div class="card-body">
                                <!-- User Details Section -->
                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label">Username</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-text">@</span>
                                            <input type="text" class="form-control" value="<%= userData.username %>" disabled>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="name">Full Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" name="name" value="<%= userData.fullName %>">
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="email">E-mail</label>
                                    <div class="col-sm-9">
                                        <input type="email" class="form-control" name="email" value="<%= userData.email %>" disabled>
                                    </div>
                                </div>

                                <!-- About Section -->
                                <h3>About</h3>
                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="location">Location</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" name="location">
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="personalsite">Personal Site/Portfolio</label>
                                    <div class="col-sm-9">
                                        <input type="url" class="form-control" name="personalsite">
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="bio">Bio</label>
                                    <div class="col-sm-9">
                                        <textarea name="bio" class="form-control" rows="4"></textarea>
                                    </div>
                                </div>

                                <!-- Social Links Section -->
                                <h3>Links</h3>
                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="twitter">Twitter</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-text">@</span>
                                            <input type="text" class="form-control" name="twitter">
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="facebook">Facebook</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-text">@</span>
                                            <input type="text" class="form-control" name="facebook">
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="linkedin">LinkedIn</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-text">@</span>
                                            <input type="text" class="form-control" name="linkedin">
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3 row">
                                    <label class="col-sm-3 col-form-label" for="instagram">Instagram</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-text">@</span>
                                            <input type="text" class="form-control" name="instagram">
                                        </div>
                                    </div>
                                </div>

                                <div class="text-end">
                                    <button type="submit" class="btn btn-primary">Save</button>&nbsp;
                                    <button type="button" class="btn btn-outline-dark" onclick="window.location.reload();">Cancel</button>
                                </div>
                            </div>
                        </form>

                        <!-- <form id="account-change-password" class="tab-pane fade mb-4-last" action="/user/changePassword" method="POST">
                            <div class="card-body pb-2">
                                <div class="form-group">
                                    <label class="form-label" for="currentPassword">Current Password</label>
                                    <input type="password" class="form-control" name="currentPassword">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="newPassword">New Password</label>
                                    <input type="password" class="form-control" name="newPassword">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="confirmNewPassword">Confirm New Password</label>
                                    <input type="password" class="form-control" name="confirmNewPassword">
                                </div>
                                <div class="btn-group">
                                    <button type="submit" class="btn btn-primary">Save</button>
                                    <button type="button" class="btn btn-outline-dark" onclick="window.location.reload();">Cancel</button>
                                </div>
                            </div>
                        </form> -->
                        <!-- <form id="account-change-password" class="tab-pane fade mb-4-last" action="/user/changePassword" method="POST">
                            <div class="card-body pb-2">
                                <div class="row mb-3 align-items-center">
                                    <label class="col-sm-3 col-form-label text-end" for="currentPassword">Current Password</label>
                                    <div class="col-sm-7">
                                        <input type="password" class="form-control" id="currentPassword" name="currentPassword">
                                    </div>
                                </div>
                                <div class="row mb-3 align-items-center">
                                    <label class="col-sm-3 col-form-label text-end" for="newPassword">New Password</label>
                                    <div class="col-sm-7">
                                        <input type="password" class="form-control" id="newPassword" name="newPassword">
                                    </div>
                                </div>
                                <div class="row mb-3 align-items-center">
                                    <label class="col-sm-3 col-form-label text-end" for="confirmNewPassword">Confirm New Password</label>
                                    <div class="col-sm-7">
                                        <input type="password" class="form-control" id="confirmNewPassword" name="confirmNewPassword">
                                    </div>
                                </div>
                                <div class="d-flex justify-content-end gap-3 mt-4">
                                    <button type="button" class="btn btn-outline-secondary" onclick="window.location.reload();">Cancel</button>
                                    <button type="submit" class="btn btn-primary">Save</button>
                                </div>
                            </div>
                        </form> -->
                        <form id="account-change-password" class="tab-pane fade mb-4-last" action="/user/changePassword" method="POST">
                            <div class="card-body pb-2">
                                <!-- Current Password Row -->
                                <div class="row mb-2">
                                    <label class="col-sm-4 col-form-label" for="currentPassword">Current Password</label>
                                    <div class="col-sm-8">
                                        <input type="password" class="form-control" id="currentPassword" name="currentPassword">
                                    </div>
                                </div>
            
                                <!-- New Password Row -->
                                <div class="row mb-2">
                                    <label class="col-sm-4 col-form-label" for="newPassword">New Password</label>
                                    <div class="col-sm-8">
                                        <input type="password" class="form-control" id="newPassword" name="newPassword">
                                    </div>
                                </div>

                                <!-- Confirm New Password Row -->
                                <div class="row mb-2">
                                    <label class="col-sm-4 col-form-label" for="confirmNewPassword">Confirm New Password</label>
                                    <div class="col-sm-8">
                                        <input type="password" class="form-control" id="confirmNewPassword" name="confirmNewPassword">
                                    </div>
                                </div>

                                <!-- Buttons Row -->
                                <div class="row">
                                    <div class="col-sm-8 offset-sm-4 d-flex justify-content-end gap-2 mt-3">
                                        <button type="button" class="btn btn-outline-secondary" onclick="window.location.reload();">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save</button>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <!--! ACCOUNT CLOSE SECTION  -->
                        <form 
                            id="close-account" 
                            class="tab-pane fade mb-4-last needs-validation" 
                            novalidate 
                            action="/user/closeAccount" 
                            method="POST"
                        >
                            <div class="card-body">
                                <!-- Header -->
                                <h4 class="mb-3">Close account</h4>

                                <!-- Warning Message -->
                                <div class="row mb-3">
                                    <div class="col-sm-12">
                                        <p class="text-danger fw-bold d-inline">Warning:</p>
                                        <span class="text-muted"> closing your account is irreversible. It deletes all of your photos, collections, and stats.</span>
                                    </div>
                                </div>

                                <!-- Current Password Input -->
                                <div class="row mb-3">
                                    <label for="closeAccountPassword" class="form-label">Current password</label>
                                    <div class="col-sm-12">
                                        <input 
                                            type="password" 
                                            class="form-control"
                                            name="closeAccountPassword" 
                                            required
                                        >
                                        <div class="invalid-feedback">Please enter password</div>
                                    </div>
                                </div>

                                <!-- Delete Button Aligned Left -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <button type="submit" class="btn btn-danger">Delete account</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
